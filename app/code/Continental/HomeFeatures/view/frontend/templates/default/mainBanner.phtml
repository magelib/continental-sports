<?php
    $bannersBlock = $this->getLayout()->createBlock('\FME\Banners\Block\Banners');
    $banners = $bannersBlock->getFrontBanners();
    $arrCount = count($banners);
    $bannerIndex = rand(0, $arrCount - 1) + 1;

    if ($arrCount > 0) {
        foreach ($banners as $index => $bannerObj) {
            if ($index === $bannerIndex) {
                $banner = $bannerObj;
            }
        }
    }
   
    if (!empty($banner) ):?>

    <?php $style = ($banner->getTextcolour() == 0) ? ' style="color:#333333;"' : ''; ?>

<div class="main-banner" style="background-image:url('/pub/media/<?= $banner->getBannerimage(); ?>')" ;>
    <div class="banner-container">
        <div class="banner-block">
            <h2<?= $style; ?>>
                <?= __($banner->getTitle()); ?>
            </h2>

            <p<?= $style; ?>><?= __($banner->getTitle()); ?></p>
            <a href="<?= $banner->getTarget(); ?>" title="" class="btn btn-primary"><span>Learn More</span></a>
        </div>
    </div>
</div>
<?php endif; ?>
